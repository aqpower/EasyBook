import{d as C,s as y,k as c,l as D,f as u,g as e,w as v,m as x,n as b,a as I,j as r,_ as j}from"./index-09020506.js";import{a as U}from"./admin-6db7a148.js";const V=e("h2",{class:"text-base-content mt-1 text-center text-2xl font-bold leading-9 tracking-tight"}," ç®¡ç†å‘˜ç™»å½• ",-1),$={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},A={class:"space-y-6"},B=e("div",{class:"flex items-center justify-between"},[e("label",{for:"email",class:"block text-sm font-medium leading-6 text-base-content"},"è´¦æˆ·"),e("div",{class:"text-sm"},[e("a",{href:"#/account/login",class:"font-semibold rounded-xl text-info"},"ç”¨æˆ·ç™»å½•")])],-1),E={class:"mt-2"},L=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm font-medium leading-6 text-base-content"},"å¯†ç "),e("div",{class:"text-sm"},[e("a",{href:"#/account/resetPassword",class:"font-semibold text-info"},"å¿˜è®°å¯†ç ?")])],-1),R={class:"mt-2"},S={key:0,class:"loading loading-bars loading-xs h-6"},M={key:1,class:"h-6"},q=C({__name:"AdminLogin",setup(N){const m=y(j),i=c(""),d=c(""),n=c(!1),g=D(),f=t=>{m({title:"ðŸ˜¢",content:t,btnContent:"ðŸ‘Œ",onClose:()=>{n.value=!1}})},p=t=>{let s="";t==="id"?s="IDå¿…é¡»ä¸º5ä½æ•°å­—":t==="password"?s="å¯†ç å¿…é¡»ä¸ºè‡³å°‘6ä½ä¸”ä»…åŒ…å«å­—æ¯æˆ–æ•°å­—":s="IDå’Œå¯†ç éªŒè¯å¤±è´¥",f(s)},h=()=>{n.value=!0;const t=i.value,s=d.value,o=/^\d{5}$/,_=/^[a-zA-Z0-9]{6,}$/;if(!o.test(t)){p("id");return}if(!_.test(s)){p("password");return}U({id:t,password:s}).then(a=>{if(a.code==200){let l=a.data;const w=I(),k={id:l.id,name:l.name,token:l.token,avatar:l.avatar};w.setUser(k),m({title:"ðŸ˜¢",content:"ç™»å½•æˆåŠŸï¼",btnContent:"ðŸ‘Œ",onClose:()=>{n.value=!1,g.replace("/admin/home")}})}else a.code==401&&f(a.msg)})};return(t,s)=>(r(),u("div",null,[V,e("div",$,[e("div",A,[e("div",null,[B,e("div",E,[v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜ID",class:"input input-bordered input-success w-full sm:text-sm sm:leading-5 h-10"},null,512),[[x,i.value]])])]),e("div",null,[L,e("div",R,[v(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>d.value=o),id:"password",type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",class:"input input-success input-bordered w-full sm:text-sm sm:leading-5 h-10"},null,512),[[x,d.value]])])]),e("div",null,[e("button",{onClick:s[2]||(s[2]=o=>h()),class:"min-h-0 h-9 btn btn-info flex w-full justify-center rounded-md px-3 py-1.5 leading-6 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"},[n.value?(r(),u("span",S)):b("",!0),n.value?b("",!0):(r(),u("span",M,"ç™»å½•"))])])])])]))}});export{q as default};
